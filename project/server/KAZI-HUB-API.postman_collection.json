{
  "info": {
    "_postman_id": "b1a2c3d4-e5f6-7890-abcd-ef1234567890",
    "name": "KAZI-HUB API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "base_url", "value": "http://localhost:5000" },
    { "key": "token", "value": "" },
    { "key": "jobId", "value": "" },
    { "key": "userId", "value": "" },
    { "key": "notificationId", "value": "" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Seth Makori\",\n  \"username\": \"seth_dev\",\n  \"email\": \"seth@example.com\",\n  \"password\": \"StrongPass!23\",\n  \"phone\": \"+254759433906\",\n  \"location\": \"Mombasa, Kenya\",\n  \"role\": \"worker\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seth@example.com\",\n  \"password\": \"StrongPass!23\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "login"]
            }
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seth@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/forgot-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "forgot-password"]
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"abc123resetToken\",\n  \"newPassword\": \"NewPass!456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/reset-password",
              "host": ["{{base_url}}"],
              "path": ["api", "auth", "reset-password"]
            }
          }
        }
      ]
    },
    {
      "name": "Jobs",
      "item": [
        {
          "name": "My Posted Jobs",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/jobs/my-posted",
              "host": ["{{base_url}}"],
              "path": ["api", "jobs", "my-posted"]
            }
          }
        },
        {
          "name": "Search Jobs",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/jobs/search?category=Software%20Development&location=Nairobi&query=React%20Developer",
              "host": ["{{base_url}}"],
              "path": ["api", "jobs", "search"],
              "query": [
                { "key": "category", "value": "Software Development" },
                { "key": "location", "value": "Nairobi" },
                { "key": "query", "value": "React Developer" }
              ]
            }
          }
        },
        {
          "name": "Featured Jobs",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/jobs/featured?category=Design",
              "host": ["{{base_url}}"],
              "path": ["api", "jobs", "featured"],
              "query": [
                { "key": "category", "value": "Design" }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Chat",
      "item": [
        {
          "name": "Get Messages",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/chats/{{jobId}}?userId={{userId}}",
              "host": ["{{base_url}}"],
              "path": ["api", "chats", "{{jobId}}"],
              "query": [
                { "key": "userId", "value": "{{userId}}" }
              ]
            }
          }
        },
        {
          "name": "Get Conversations",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/chats/conversations",
              "host": ["{{base_url}}"],
              "path": ["api", "chats", "conversations"]
            }
          }
        }
      ]
    },
    {
      "name": "Skills",
      "item": [
        {
          "name": "Create Skill",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                { "key": "isGroup", "value": "false", "type": "text" },
                { "key": "skillDescription", "value": "Full-stack web development with React, Node.js, and MySQL", "type": "text" },
                { "key": "availability", "value": "Weekdays 9am - 6pm", "type": "text" },
                { "key": "charges", "value": "KES 1500/hour", "type": "text" },
                { "key": "groupName", "value": "", "type": "text" },
                { "key": "contact", "value": "{\"email\": \"seth@example.com\", \"phone\": \"+254759433906\"}", "type": "text" },
                { "key": "pastWorkFiles", "type": "file" }
              ]
            },
            "url": {
              "raw": "{{base_url}}/api/skills/",
              "host": ["{{base_url}}"],
              "path": ["api", "skills", ""]
            }
          }
        },
        {
          "name": "List Skills",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/skills/",
              "host": ["{{base_url}}"],
              "path": ["api", "skills", ""]
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Deposit",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+254759433906\",\n  \"amount\": 5000\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/payments/deposit",
              "host": ["{{base_url}}"],
              "path": ["api", "payments", "deposit"]
            }
          }
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "List Notifications",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", ""]
            }
          }
        },
        {
          "name": "Mark Notification Read",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/{{notificationId}}/read",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "{{notificationId}}", "read"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Dashboard",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "admin", "dashboard"]
            }
          }
        }
      ]
    },
    {
      "name": "CV",
      "item": [
        {
          "name": "Generate CV",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Seth Makori Ondieki\",\n  \"email\": \"seth@example.com\",\n  \"phone\": \"+254759433906\",\n  \"address\": \"Mombasa, Kenya\",\n  \"summary\": \"Software Engineer with experience in web apps, mobile apps, and backend development.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/cv-maker/generate",
              "host": ["{{base_url}}"],
              "path": ["api", "cv-maker", "generate"]
            }
          }
        }
      ]
    },
    {
      "name": "Mpesa",
      "item": [
        {
          "name": "Send Payment",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+254700123456\",\n  \"amount\": 2000,\n  \"paymentId\": \"pay_12345xyz\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/mpesa/send-payment",
              "host": ["{{base_url}}"],
              "path": ["api", "mpesa", "send-payment"]
            }
          }
        }
      ]
    }
  ]
}
